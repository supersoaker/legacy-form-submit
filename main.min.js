!function(w,d){var x=function(e,t,n,r){e[r="addEventListener"]?e[r](t,n,!1):e.attachEvent("on"+t,n)},y=function(json){if(w.JSON)return JSON.parse(json);if(0===json.trim().lastIndexOf("{",0))return eval("("+json+")");throw new Error};window.submitFormIntoFrame=function(e,t,n){var r=d.querySelectorAll(e)[0],o=d.createElement("IFRAME"),a="temporary-iframe-"+ +new Date,i=t.match(/^.+\:\/\/[^\/]+/)[0];r.target=a,r.method="post",r.enctype="multipart/form-data",r.action=t,x(w,"message",function(e){if(e.origin===i&&e.source==o.contentWindow){try{n(y(e.data))}catch(e){console.error("No Valid JSON from "+t),console.error(e),n({status:"failure",message:"Server error."})}o.parentNode.removeChild(o)}}),x(r,"submit",function(){o.name=a,o.style.display="none",d.body.appendChild(o)})}}(window,document);
